{% extends 'index.html.twig' %}
    {% block body %}
    <!-- *********************************************************************************************************
                                                Barra de navegaciÃ³n
    **************************************************************************************************************-->
         {%block navegacion%}

     {{ parent()}}
     
     
        {%endblock%} 
    
    
    
    <!-- *********************************************************************************************************
                                                HEADER DE LA PAGINA AUTOS DE RENTA
    **************************************************************************************************************-->


    <div class="text-center">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-transparent w-100 mt-3">
                <li class="breadcrumb-item">
                    <a class="text-decoration-none" href="{{path('homepage')}}">Inicio</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    Autos de renta
                </li>
            </ol>
        </nav>
    </div>

    <section class="container-fluid">
        <div class="row row-cols-sm-1">
            <div class="dropdown mb-3 col-sm-6 p-3 d-block d-md-none">
                <!-- Filtro para movil -->
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filtrar <i class="fas fa-filter"></i>
                </button>
                <div class="dropdown-menu col-sm-12" aria-labelledby="dropdownMenuButton">
                    <div id="filtro-autos" class="p-3">
                        <h2 class="h5 text-center text-muted">Filtrar</h2>
                       {{ form_start(form2) }}
                       {{ form_errors(form2) }}
              
                <ul id="categoria" class="list-unstyled">
                    <h3 class="h6">Categor&iacute;a</h3>
                    <li class="form-check">
                        {{ form_widget(form2.Economico,{attr:{'class':'form-check-input','id':'auto-economico' } }) }}
                        {{ form_label(form2.Economico) }}
                        {{ form_errors(form2.Economico) }}
                       
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.Medio,{attr:{'class':'form-check-input','id':'auto-medio' } }) }}
                        {{ form_label(form2.Medio) }}
                        {{ form_errors(form2.Medio) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.for4,{attr:{'class':'form-check-input','id':'auto-c-standard' } }) }}
                        {{ form_label(form2.for4, '4X4') }}
                        {{ form_errors(form2.for4) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.SUV,{attr:{'class':'form-check-input','id':'auto-d-standard' } }) }}
                        {{ form_label(form2.SUV,'SUV') }}
                        {{ form_errors(form2.SUV) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.EPremium,{attr:{'class':'form-check-input','id':'auto-e-premium' } }) }}
                        {{ form_errors(form2.EPremium) }}
                    </li>
                    <li class="form-check">                      
                        {{ form_widget(form2.EPremiumPlus,{attr:{'class':'form-check-input','id':'auto-e-premium-plus' } }) }}
                       
                        {{ form_errors(form.EPremiumPlus) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.FLujo,{attr:{'class':'form-check-input','id':'auto-f-lujo' } }) }}
                        {{ form_errors(form2.FLujo) }}
                    </li>
                    {{ form_row(form2.save1,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                </ul>
                 <ul id="transmision" class="list-unstyled">
                    <h3 class="h6">Transmisi&oacute;n</h3>
                    <li class="form-check">
                        {{ form_widget(form2.manual,{attr:{'class':'form-check-input','id':'manual' } }) }}
                        {{ form_label(form2.manual) }}
                        {{ form_errors(form2.manual) }}
                    </li>
                    <li class="form-check">
                        
                        {{ form_widget(form2.automatica,{attr:{'class':'form-check-input'} }) }}
                        {{ form_label(form2.automatica) }}
                        {{ form_errors(form2.automatica) }}
                    </li>
                    {{ form_row(form2.save2,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                </ul>    
                    

                <ul id="precio-autos" class="list-unstyled">
                    <h3 class="h6">Precio por dia</h3>
                    <li class="form-check">
                        {{ form_widget(form2.pobre,{attr:{'class':'form-check-input','id':'bajo' } }) }}
                        {{ form_label(form2.pobre,'$0 - $99 ') }}
                        {{ form_errors(form2.pobre) }}
                    </li>
                    <li class="form-check">                     
                        {{ form_widget(form2.barato,{attr:{'class':'form-check-input','id':'medio-bajo' } }) }}
                        {{ form_label(form2.barato,'$100 - $199 ') }}
                        {{ form_errors(form2.barato) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form2.caro,{attr:{'class':'form-check-input','id':'medio' } }) }}
                        {{ form_label(form2.caro,'$200 - $299') }}
                        {{ form_errors(form2.caro) }}
                    </li>
                    {{ form_row(form2.save3,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                    
                </ul>
                 {{ form_end(form2) }}
                    </div>
                </div>
            </div>

            <!-- Filtro para computadoras y tablets -->
            <div id="filtro-autos" class="col-md-3 bg-light p-3 shadow d-none d-md-block h-100">
               <h2 class="h5 text-center text-muted">Filtrar</h2>
                 {{ form_start(form) }}
                 {{ form_errors(form) }}
              
                <ul id="categoria" class="list-unstyled">
                    <h3 class="h6">Categor&iacute;a</h3>
                    <li class="form-check">
                        {{ form_widget(form.Economico,{attr:{'class':'form-check-input','id':'auto-economico' } }) }}
                        {{ form_label(form.Economico) }}
                        {{ form_errors(form.Economico) }}
                       
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.Medio,{attr:{'class':'form-check-input','id':'auto-medio' } }) }}
                        {{ form_label(form.Medio) }}
                        {{ form_errors(form.Medio) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.for4,{attr:{'class':'form-check-input','id':'auto-c-standard' } }) }}
                        {{ form_label(form.for4, '4X4') }}
                        {{ form_errors(form.for4) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.SUV,{attr:{'class':'form-check-input','id':'auto-d-standard' } }) }}
                        {{ form_label(form.SUV,'SUV') }}
                        {{ form_errors(form.SUV) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.EPremium,{attr:{'class':'form-check-input','id':'auto-e-premium' } }) }}
                        {{ form_errors(form.EPremium) }}
                    </li>
                    <li class="form-check">                      
                        {{ form_widget(form.EPremiumPlus,{attr:{'class':'form-check-input','id':'auto-e-premium-plus' } }) }}
                       
                        {{ form_errors(form.EPremiumPlus) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.FLujo,{attr:{'class':'form-check-input','id':'auto-f-lujo' } }) }}
                        {{ form_errors(form.FLujo) }}
                    </li>
                    {{ form_row(form.save1,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                </ul>
                 <ul id="transmision" class="list-unstyled">
                    <h3 class="h6">Transmisi&oacute;n</h3>
                    <li class="form-check">
                        {{ form_widget(form.manual,{attr:{'class':'form-check-input','id':'manual' } }) }}
                        {{ form_label(form.manual) }}
                        {{ form_errors(form.manual) }}
                    </li>
                    <li class="form-check">
                        
                        {{ form_widget(form.automatica,{attr:{'class':'form-check-input'} }) }}
                        {{ form_label(form.automatica) }}
                        {{ form_errors(form.automatica) }}
                    </li>
                    {{ form_row(form.save2,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                </ul>    
                    

                <ul id="precio-autos" class="list-unstyled">
                    <h3 class="h6">Precio por dia</h3>
                    <li class="form-check">
                        {{ form_widget(form.pobre,{attr:{'class':'form-check-input','id':'bajo' } }) }}
                        {{ form_label(form.pobre,'$0 - $99 ') }}
                        {{ form_errors(form.pobre) }}
                    </li>
                    <li class="form-check">                     
                        {{ form_widget(form.barato,{attr:{'class':'form-check-input','id':'medio-bajo' } }) }}
                        {{ form_label(form.barato,'$100 - $199 ') }}
                        {{ form_errors(form.barato) }}
                    </li>
                    <li class="form-check">
                        {{ form_widget(form.caro,{attr:{'class':'form-check-input','id':'medio' } }) }}
                        {{ form_label(form.caro,'$200 - $299') }}
                        {{ form_errors(form.caro) }}
                    </li>
                    {{ form_row(form.save3,{attr:{'class':'btn p-1 mt-1 btn-sm'} }) }}
                    
                </ul>
                 {{ form_end(form) }}
            </div>

            <div class="col-md-9">
                <!-- Barra de progreso de reserva -->
                <div id="progreso-reserva-auto" class="mb-4">
                    <p>Paso 1: Escoja su auto</p>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning"
                            role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100"
                            style="width: 33%"></div>
                    </div>
                </div>
                <!-- Listado de autos disponibles -->
                <div class="row row-cols-1">
                    <div id="autos-disponibles" class="mb-2 container">
                        <h2 class="mb-5 text-wrap">Autos disponibles para rentar</h2>
                        <ul class="list-unstyled">
                            {% for auto in autos %}
                            <div id="car-type" class="text-decoration-none shadow text-reset">
                                <li class="card mb-3 shadow-sm border p-1">
                                    <div class="card-body">
                                        {% set url = " " %}
                                        {% for foto in auto.getFotos %}
                                        {% if  loop.index == 1 %}
                                        {% set url = foto.getUrl%}
                                        {% endif %}
                                        {%endfor%}
                                        <img src="{{asset(url)}}" alt=""
                                            class="img-fluid img-thumbnail ml-3" id="car-img">
                                        <span id="categoria-auto" class="h4 text-muted">{{auto.getCategoria}}</span>
                                       <h5>
                                            <i class="fas fa-car"></i>
                                            <span id="car-name">{{auto.getMarca}} </span>
                                            <p class="text-muted small">o similar</p>
                                        </h5>
                                        <div id="auto-short-description" class="border-bottom mb-2 pb-2">
                                            <i class="fas fa-user"></i><span id="asientos"
                                                class="badge badge-light mr-3">{{auto.getAsientos}}</span>
                                            <i class="fas fa-gas-pump ml-3"></i><span id="combustible"
                                                class="badge badge-light">{{auto.getCombustible}}</span>
                                            <br />
                                            <i class="fas fa-suitcase-rolling"></i><span id="capacidad-maletas"
                                                class="badge badge-light mr-3">{{auto.getCapacidad}}</span>
                                            <i class="fas fa-code-branch ml-3"></i><span id="transmision"
                                                class="badge badge-light">{{auto.getTransmision}}</span>
                                        </div>

                                        <div class="container-fluid my-4">
                                            <div class="row row-cols-2">
                                                <div class="col-8">
                                                    <button type="button" id="ver-descripcion-auto" class="btn" data-toggle="collapse"
                                                        data-target="#car-name" aria-expanded="false"
                                                        aria-controls="car-name">
                                                        Ver descripcion
                                                    </button>
                                                    <div class="collapse container" id="car-name">
                                                        <ul class="list-group list-group-flush small shadow-sm">
                                                            <li class="list-group-item">
                                                                <i class="fas fa-snowflake"></i> Aire
                                                                acondicionado
                                                            </li>
                                                            <li class="list-group-item">
                                                                <i class="fas fa-gas-pump"></i> Full/Full
                                                            </li>
                                                            <li class="list-group-item">
                                                                <i class="fas fa-road"></i> Km ilimitados
                                                            </li>
                                                            <li class="list-group-item">
                                                                <i class="fas fa-check text-success"></i> Seguro
                                                                inclu&iacute;do
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="col-4">
                                                      <span id="precio-auto" class="float-right h3 font-weight-bold"><span
                                                            class="h5">desde</span> ${{auto.getPrecio+(20*auto.getPrecio/100)}}
                                                        USD</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="container border-top mt-2 pt-2">
                                            <a href="{{path('auto-reserva',{'id':auto.getId})}}" role="button" class="btn btn-block">Ver auto <i
                                                    class="fas fa-chevron-circle-right"></i></a>
                                        </div>
                                    </div>
                                </li>
                            </div>
                            {%endfor%} 
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- *********************************************************************************************************
                                            SECCIÃN DEL FOOTER
    **************************************************************************************************************-->
   {%block pie%}

        {{ parent()}}
         
    {%endblock%} 


    <a id="boton-subir" href="#nav" class="btn"><i class="fas fa-arrow-circle-up"></i></a>
    {% endblock %}
    {% block javascripts %}
    <!-- AÃ±adiendo scrpts js -->
    <!-- AÃ±adiendo scripts js -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>
    {% endblock %}
